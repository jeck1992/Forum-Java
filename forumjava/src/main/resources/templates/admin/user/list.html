<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layout :: head">
    <title>Java Forum</title>
</head>

<body>
<header th:replace="layout :: header" />

<main>
    <div class="container body-content">
        <div class="alert alert-danger" th:if="${error}">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <strong th:text="${error}"></strong>
        </div>
        <div class="alert alert-success" th:if="${deleted}">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <strong th:text="${deleted}"></strong>
        </div>
        <div class="well">
            <h2>All Users</h2>
            <div class="row">
                <table class="table table-striped table-hover ">
                    <thead>
                    <tr>
                        <th>#</th>
                        <th>Full Name</th>
                        <th>Email</th>
                        <th>Gender</th>
                        <th>Registered at:</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody>

                    <th:block th:each="user : ${users}">
                        <tr th:class="${user.isAdmin() ? 'info' : null}">
                            <td th:text="${userStat.count}"></td>
                            <td th:text="${user.fullName}"></td>
                            <td th:text="${user.email}"></td>
                            <td th:text="${user.gender}"></td>
                            <td th:text="${user.regdate}"></td>
                            <td>
                                <a style = "color:darkorange;" th:href="@{/admin/users/edit/{id}(id=${user.id})}">Edit</a>
                                <a style = "color:crimson;" th:href="@{/admin/users/delete/{id}(id=${user.id})}">Delete</a>
                            </td>
                        </tr>
                    </th:block>

                    </tbody>
                </table>
            </div>
        </div>
    </div>
</main>

<footer th:replace="layout :: footer" />
</body>

</html>